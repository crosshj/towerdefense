<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Sign Up</title>
		<style>
			body {
				font-family: Arial, sans-serif;
				background-color: #f4f4f4;
				margin: 0;
				padding: 0;
				display: flex;
				justify-content: center;
				align-items: center;
				height: 100vh;
			}
			.container {
				background-color: #ffffff;
				padding: 20px;
				border-radius: 5px;
				box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
				text-align: center;
			}
			.container h1 {
				color: #007bff;
			}
			.container form {
				display: flex;
				flex-direction: column;
			}
			.container input {
				padding: 10px;
				margin: 10px 0;
				border: 1px solid #dddddd;
				border-radius: 5px;
			}
			.container button {
				padding: 10px;
				background-color: #007bff;
				color: #ffffff;
				border: none;
				border-radius: 5px;
				cursor: pointer;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1>Sign Up</h1>
			<form id="signupForm" action="/signup" method="POST">
				<input
					id="email"
					type="email"
					name="email"
					placeholder="Email"
					autocomplete="off"
					required
				/>
				<input
					id="username"
					type="text"
					name="username"
					placeholder="Username"
					autocomplete="off"
					required
				/>
				<input
					id="password"
					type="password"
					name="password"
					placeholder="Password"
					autocomplete="off"
					required
				/>
				<button type="submit">Sign Up</button>
			</form>
		</div>

		<script>
			document
				.getElementById('signupForm')
				.addEventListener('submit', async function (event) {
					event.preventDefault();

					const name = document.getElementById('username').value;
					const email = document.getElementById('email').value;
					const password = document.getElementById('password').value;

					const response = await fetch(
						'https://datamosh.vercel.app/api/teedee/signUp',
						{
							method: 'POST',
							headers: {
								'Content-Type': 'application/json'
							},
							body: JSON.stringify({
								username: name,
								email: email,
								password: password
							})
						}
					);

					if (response.ok) {
						document.body.innerHTML =
							'Your account was created.  Check your email to verify.';
					} else {
						document.body.innerHTML = 'Signup failed.';
					}
				});
		</script>
	</body>
</html>
